<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Clínica - Dashboard</title>
  <style>
    :root { --bg:#0f172a; --panel:#111827; --panel2:#1e293b; --border:#334155; --text:#e2e8f0; --link:#93c5fd; --accent:#22c55e; --danger:#ef4444; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 0; background: var(--bg); color: var(--text); }
    header { padding: 24px; background: var(--panel2); display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; }
    main { padding: 24px; }
    .card { background: var(--panel); border: 1px solid var(--border); border-radius: 12px; padding: 16px; margin-bottom: 16px; }
    a { color: var(--link); text-decoration: none; }
    .tabs { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 12px; }
    .tab { padding: 8px 12px; border: 1px solid var(--border); border-radius: 8px; cursor: pointer; background: var(--panel); }
    .tab.active { background: var(--panel2); }
    .hidden { display: none; }
    table { width: 100%; border-collapse: collapse; margin-top: 12px; }
    th, td { border-bottom: 1px solid var(--border); padding: 8px; text-align: left; }
    input, select { width: 100%; padding: 8px; border-radius: 8px; border: 1px solid var(--border); background: var(--panel); color: var(--text); }
    button { padding: 8px 12px; border: 1px solid var(--border); border-radius: 8px; background: var(--panel2); color: var(--text); cursor: pointer; }
    .row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
    .row-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
    .actions { display: flex; gap: 8px; }
    .ok { background: var(--accent); border-color: var(--accent); }
    .ko { background: var(--danger); border-color: var(--danger); }
    .container { max-width: 1080px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; gap: 16px; flex-wrap: wrap; }
    .container-main { max-width: 1080px; margin: 0 auto; }
    @media (max-width: 1024px) { .row { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 640px) { .row { grid-template-columns: 1fr; } .row-2 { grid-template-columns: 1fr; } }
  </style>
  <style>
    .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.6); display: flex; align-items: center; justify-content: center; padding: 16px; }
    .modal-box { width: 100%; max-width: 560px; }
  </style>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
  <header>
    <div class="container">
      <h1>Dashboard Clínica</h1>
      <div>Backend: <span id="backendUrl"></span></div>
    </div>
    <nav class="tabs">
      <div class="tab active" data-tab="usuarios">Usuarios</div>
      <div class="tab" data-tab="pacientes">Pacientes</div>
      <div class="tab" data-tab="doctores">Doctores</div>
      <div class="tab" data-tab="citas">Citas</div>
      <div class="tab" data-tab="tratamientos">Tratamientos</div>
      <div class="tab" data-tab="historias">Historias</div>
    </nav>
    <div class="card" style="margin-top:12px; width:100%">
      <h3>Autenticación</h3>
      <div class="row-2">
        <input id="auth_email" placeholder="Email" />
        <input id="auth_password" type="password" placeholder="Password" />
      </div>
      <div class="actions" style="margin-top:8px">
        <button id="auth_login" class="ok">Login</button>
        <span id="auth_status"></span>
      </div>
    </div>
  </header>
  <main class="container-main">
    <section id="usuarios" class="card">
      <h3>Usuarios</h3>
      <div class="row">
        <input id="u_nombre" placeholder="Nombre" />
        <input id="u_email" placeholder="Email" />
        <select id="u_rol"><option>ADMIN</option><option>DOCTOR</option><option>PACIENTE</option></select>
      </div>
      <div class="row-2" style="margin-top:8px">
        <input id="u_password" placeholder="Password" type="password" />
        <button id="u_create" class="ok">Crear</button>
      </div>
      <table id="u_table"><thead><tr><th>ID</th><th>Nombre</th><th>Email</th><th>Rol</th><th>Acciones</th></tr></thead><tbody></tbody></table>
    </section>

    <section id="pacientes" class="card hidden">
      <h3>Pacientes</h3>
      <div class="row">
        <input id="p_nombre" placeholder="Nombre" />
        <input id="p_email" placeholder="Email" />
        <input id="p_telefono" placeholder="Teléfono" />
      </div>
      <div style="margin-top:8px"><button id="p_create" class="ok">Crear</button></div>
      <table id="p_table"><thead><tr><th>ID</th><th>Nombre</th><th>Email</th><th>Teléfono</th><th>Acciones</th></tr></thead><tbody></tbody></table>
    </section>

    <section id="doctores" class="card hidden">
      <h3>Doctores</h3>
      <div class="row">
        <input id="d_nombre" placeholder="Nombre" />
        <input id="d_especialidad" placeholder="Especialidad" />
      </div>
      <div style="margin-top:8px"><button id="d_create" class="ok">Crear</button></div>
      <table id="d_table"><thead><tr><th>ID</th><th>Nombre</th><th>Especialidad</th><th>Acciones</th></tr></thead><tbody></tbody></table>
    </section>

    <section id="tratamientos" class="card hidden">
      <h3>Tratamientos</h3>
      <div class="row">
        <input id="t_descripcion" placeholder="Descripción" />
        <input id="t_costo" type="number" step="0.01" placeholder="Costo" />
      </div>
      <div style="margin-top:8px"><button id="t_create" class="ok">Crear</button></div>
      <table id="t_table"><thead><tr><th>ID</th><th>Descripción</th><th>Costo</th><th>Acciones</th></tr></thead><tbody></tbody></table>
    </section>

    <section id="citas" class="card hidden">
      <h3>Citas</h3>
      <div class="row">
        <input id="c_fecha" type="datetime-local" />
        <select id="c_estado"><option>PROGRAMADA</option><option>COMPLETADA</option><option>CANCELADA</option></select>
        <select id="c_pacienteSel"></select>
      </div>
      <div class="row-2" style="margin-top:8px">
        <select id="c_doctorSel"></select>
        <select id="c_tratamientoSel"></select>
      </div>
      <div style="margin-top:8px"><button id="c_create" class="ok">Crear</button></div>
      <table id="c_table"><thead><tr><th>ID</th><th>Fecha</th><th>Estado</th><th>Paciente</th><th>Doctor</th><th>Tratamiento</th><th>Acciones</th></tr></thead><tbody></tbody></table>
    </section>

    <section id="historias" class="card hidden">
      <h3>Historias Clínicas</h3>
      <div class="row">
        <select id="h_pacienteSel"></select>
        <select id="h_medicoSel"></select>
        <select id="h_tratamientoSel"></select>
      </div>
      <div class="row">
        <input id="h_detalles" placeholder="Detalles" />
        <input id="h_diagnostico" placeholder="Diagnóstico" />
        <input id="h_fecha" type="date" />
      </div>
      <div style="margin-top:8px"><button id="h_create" class="ok">Crear</button></div>
      <table id="h_table"><thead><tr><th>ID</th><th>Paciente</th><th>Médico</th><th>Tratamiento</th><th>Diagnóstico</th><th>Fecha</th><th>Acciones</th></tr></thead><tbody></tbody></table>
    </section>
  </main>
  <div id="modal" class="modal hidden"><div class="modal-box card"><h3 id="modal_title"></h3><div id="modal_content"></div><div class="actions" style="margin-top:8px"><button id="modal_save" class="ok">Guardar</button><button id="modal_cancel" class="ko">Cancelar</button></div></div></div>
  <script src="dashboard.js" defer></script>
</body>
</html>
